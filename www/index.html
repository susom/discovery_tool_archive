<!DOCTYPE html>
<!--
    Copyright (c) 2012-2016 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">

    <!-- THIS NEEDS TO BE ACTIVE FOR ANDROID BUT COMMENTED OUT FOR IOS -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src * gap://ready file:; style-src 'self' 'unsafe-inline'; img-src 'self' data:; script-src * 'unsafe-inline' 'unsafe-eval'"> -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src * gap: file:; style-src 'self' 'unsafe-inline'; img-src 'self' data:; script-src * 'unsafe-inline' 'unsafe-eval'"> -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/mini-default.min.css" />
    <link rel="stylesheet" type="text/css" href="css/index_rwd.css" />
    <!--<link rel="stylesheet" type="text/css" href="css/index_splash.css" />-->
    <!-- index.css is in couch, and added in dynamically on loads -->
    <title>Our Voice Discovery Tool</title>
</head>
<body>
<div id="main" class="container">

    <div class="row toplogo">
        <div class="col-sm-12">
            <h1 class="logo" data-clickcount="0" data-translation-key="discovery_tool">Discovery Tool</h1>
        </div>
    </div>

    <div id="admin_view" class="panel row">
        <div class="col-sm-12 content">
            <div class="container">
                <div class="row table_header">
                    <div class="col-sm-2"><span data-translation-key="date">Date</span></div>
                    <div class="col-sm-2"><span data-translation-key="project">Project</span></div>
                    <div class="col-sm-2"><span data-translation-key="walk_id">Walk ID</span></div>
                    <div class="col-sm-2"><span><img src="img/icon_camera_black.png"/></span></div>
                    <div class="col-sm-2"><span><img src="img/icon_audio_comment_black.png"/></span></div>
                    <div class="col-sm-2"><span data-translation-key="upload_status">Upload Status</span></div>
                </div>

                <div class="row" id="list_data" >
                    <div class="col-sm-12 upload_table">
                        <div class="row table ">
                            <div class="col-sm-2">1/1/19</div>
                            <div class="col-sm-2">AARP</div>
                            <div class="col-sm-2 walkid">9876</div>
                            <div class="col-sm-2">1</div>
                            <div class="col-sm-2">1</div>
                            <div class="col-sm-2 reset"><a class="resync"></a></div>
                        </div>
                    </div>
                </div>

                <div id='progressoverlay'>
                    <h3 data-translation-key="upload_progress">Upload progress</h3>
                    <div id="progressbar">
                        <span></span>
                    </div>
                    <h4><b id="percent_uploaded">0</b>%</h4>
                    <a href="#" id="cancel_upload" data-translation-key="cancel">Cancel</a>
                </div>

                <div class="row buttons">
                    <div class="col-sm-12 col-md-6"><a href="#" class="button view uploadbtn datastatus" data-next="admin_view" data-translation-key="sync_status"><i data-translation-key="upload_data">Upload data</i><b data-translation-key="uploading_data" class='ing'>Uploading data</b></a></div>
                </div>
            </div>
        </div>
    </div>

    <div id="step_setup" class="panel row">
        <div class="col-sm-12 content">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 instruct"><span >Thank you for your interest in the Discovery Tool!</span></div>
                </div>
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 instruct"><span >The Discovery Tool is only available for use in approved projects.</span></div>
                </div>
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 instruct"><span >For more information please visit <a href="http://ourvoice.stanford.edu">http://ourvoice.stanford.edu</a></span></div>
                </div>

                <div id="admin_null" class="graybox">
                    <div class="input-group ">
                        <label data-translation-key="project_id">Project ID</label> <input type="text" id="admin_projid"/>
                    </div>
                    <div class="input-group ">
                        <label data-translation-key="password">Password</label> <input type="password" id="admin_pw"/>
                    </div>
                </div>

                <div class="row buttons">
                    <div class="col-sm-12 col-md-6"><a href="#" data-next="step_zero" class="button adminbtn" data-translation-key="setup_project">setup project on this device</a></div>
                    <div class="col-sm-12 col-md-6"><a href="#" id="reset_dbs" data-clickcount="0" class="button danger" data-translation-key="clear_device">clear device</a></div>
                </div>
            </div>
        </div>
    </div>

    <div id="step_zero" class="panel row">
        <div class="col-sm-12 content">
            <div class="container">
                <div class="row appver">
                    <div class="col-sm-8 col-sm-offset-2">
                        <h2 data-translation-key="discovery_tool">Discovery Tool</h2>
                        <ver id="loading_message" data-version="3.0.00">v. <b></b></ver>
                        <copyright data-translation-key="copyright">Â© Stanford University 2019</copyright>
                    </div>
                </div>

                <form id='projid' class="graybox">
                    <input type="hidden" name="user_id" value="1"/>
                    <div class="row">
                        <label class="col-sm-4" data-translation-key="project">Project</label> <span class="col-sm-7 col-sm-offset-1 proj_name">[PROJECT_NAME]</span>
                    </div>
                    <div class="row">
                        <label class="col-sm-4" data-translation-key="language">Language</label> <span class="col-sm-7  col-sm-offset-1"><select name="language"><option>English</option></option></select></span>
                    </div>
                </form>

                <div class="row buttons">
                    <div class="col-sm-12"><a href="#" id="letsgo" class="button letsgo" data-next="consent_0"  data-translation-key="start">start</a></div>
                    <div class="col-sm-12"><a href="#" id="resetdevice" class="button resetdb" data-next="step_zero" data-translation-key="change_project">change project</a></div>
                    <div class="col-sm-12"><a href="#" class="button view datastatus" data-next="admin_view" data-translation-key="view_upload">view/upload data</a></div>
                </div>
            </div>
        </div>
    </div>

    <div id="consent_0" class="panel row">
        <div class="col-sm-12 content">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 consentbox vertconnect" data-translation-key="consent_greet">Welcome!</div>
                </div>

                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 consentbox vertconnect" data-translation-key="consent_info_1">Use the Discovery Tool to take pictures and explain things in your community that affect healthy living. The Discovery Tool will make a map of your route.</div>
                </div>

                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 consentbox" data-translation-key="consent_info_2">The information you collect will be stored securely at Stanford University and will only be used for research purposes. It may be published or presented, but your identity will never be shared.</div>
                </div>

                <div class="row buttons">
                    <div class="col-sm-12"><a href="#" id="letsgo" class="button letsgo" data-next="consent_1"  data-translation-key="understand_agree">I understand and agree</a></div>
                </div>
            </div>
        </div>
    </div>

    <div id="consent_1" class="panel row">
        <div class="col-sm-12 content">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 consentbox" data-translation-key="saftey_tips">Safety Tips</div>
                </div>

                <div class="row safteytip col-sm-12">
                    <div class="col-sm-3 col-sm-offset-2"><span><img src="img/pic_walk_with_another.png"></span></div>
                    <div class="col-sm-5 col-sm-offset-1"><span data-translation-key="saftey_tips_1">Walk with another person, if possible</span></div>
                </div>

                <div class="row safteytip col-sm-12">
                    <div class="col-sm-3 col-sm-offset-2"><span><img src="img/pic_danger_2.png"></span></div>
                    <div class="col-sm-5 col-sm-offset-1"><span data-translation-key="saftey_tips_2">Pay attention and avoid dangerous situations</span></div>
                </div>

                <div class="row safteytip col-sm-12">
                    <div class="col-sm-3 col-sm-offset-2"><span><img src="img/pic_no_faces.png"></span></div>
                    <div class="col-sm-5 col-sm-offset-1"><span data-translation-key="saftey_tips_3">Do not take pictures of people's faces</span></div>
                </div>

                <div class="row safteytip col-sm-12">
                    <div class="col-sm-3 col-sm-offset-2"><span><img src="img/pic_ask_help.png"></span></div>
                    <div class="col-sm-5 col-sm-offset-1"><span data-translation-key="saftey_tips_4">Ask for help if you need it</span></div>
                </div>

                <div class="row buttons">
                    <div class="col-sm-12"><a href="#" id="letsgo" class="button letsgo" data-next="step_two"  data-translation-key="start">Start</a></div>
                </div>
            </div>
        </div>
    </div>

    <div id="step_two" class="panel row">
        <div class="col-sm-12 content">
            <div class="container">
                <div class="row photoaction">
                    <div class="col-sm-6 col-sm-offset-3 consentbox"><b data-translation-key="take_photo">Take a photo</b></div>

                    <div class="col-sm-12 actions">
                        <a href="#" data-next="pic_review" class="button action daction camera"></a>
                    </div>
                </div>

                <div class="row buttons walk_actions">
                    <div class="col-sm-12"><a href="#" class="button endwalk" data-next="step_three" data-translation-key="done_walk">Done with my walk</a></div>
                </div>
            </div>
        </div>
    </div>

    <div id="pic_review" class="panel row">
        <div class="col-sm content">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12"><img src="img/icon_walk.png" style="height:25vh" id="recent_pic"></div>
                </div>

                <div class="row">
                    <div class="col-sm-10 col-sm-offset-1 consentbox" data-translation-key="why_this_photo">1. Why did you take this photo?</div>
                </div>

                <div class="row audio_text">
                    <div class="col-sm-4 col-sm-offset-2"><a href="#" data-next="audio_record"  class="btn daction audiorec audio "></a></div>
                    <div id="saved_audio" class="col-sm-6">
                    </div>
                </div>
                <div class="row audio_text">
                    <div class="col-sm-8 col-sm-offset-2">
                        <a href="#" class="btn daction keyboard"></a>
                        <div class="text_comment">
                            <textarea id="text_comment"></textarea>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-10 col-sm-offset-1 consentbox" data-translation-key="good_or_bad">2. Is this good or bad for the community?</div>
                </div>

                <div class="row goodbad votes">
                    <div class="col-sm-2 col-sm-offset-2"><a href="#" class="vote up smiley" rel="1"></a></div>
                    <div class="col-sm-4 jointext" data-translation-key="chose_one">Choose one or both</div>
                    <div class="col-sm-2"><a href="#" class="vote down smiley" rel="1"></a></div>
                </div>

                <div class="row buttons">
                    <div class="col-sm-10 col-sm-offset-1 btns"></div>
                    <div class="col-sm-2 col-sm-offset-2"><a href="#" class="button btn stop trashit" data-translation-key="delete">Delete</a></div>
                    <div class="col-sm-2 col-sm-offset-3"><a href="#" class="button btn" data-next="step_two"  data-translation-key="save">Save</a></div>
                </div>
            </div>
        </div>
    </div>

    <div id="audio_record" class="panel row">
        <div class="col-sm content">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <h3 class="record" data-translation-key="youre_recording">You are recording...</h3>
                    </div>
                </div>

                <div id="soundwaves" class="row col-sm-12"></div>

                <div class="row">
                    <div class="col-sm-12">
                        <div id="audio_time">00:00</div>
                    </div>
                </div>

                <div class="row">
                    <div id="audio_controls" class="col-sm-12">
                        <ul>
                            <li><a id="ctl_stop" href="#"><i class="record"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="step_three" class="panel row">
        <div class="col-sm-12 content">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 consentbox vertconnect done_photos" data-translation-key="you_took_n_photos">You took <b>0</b> photos</div>
                </div>

                <div id="walkmap" class="row">
                    <div class="col-sm-12 consentbox vertconnect nobor"><div id="google_map"></div></div>
                </div>

                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 consentbox" data-translation-key="are_you_done">Are you done?</div>
                </div>

                <div class="row buttons">
                    <div class="col-sm-12 col-md-6"><a href="#" id="yesdone" class="button confirm endwalk" data-next="finish"  data-translation-key="yes_done">Yes, I am done</a></div>
                    <div class="col-sm-12 col-md-6"><a href="#" id="nocontinue" class="button confirm continuewalk" data-next="step_two"  data-translation-key="no_continue">No, I want to continue</a></div>
                </div>
            </div>
        </div>
    </div>

    <div id="finish" class="panel row">
        <div class="col-sm-12 content">
            <div class="container">
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 consentbox vertconnect bigpad" data-translation-key="finish_title">Great!</div>
                </div>

                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 consentbox vertconnect" data-translation-key="finish_info_1">From home screen, connect to wifi to upload data.</div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-sm-offset-2 consentbox horizconnect"></div>
                </div>

                <div class="row">
                    <div class="col-sm-2 col-sm-offset-3 consentbox vertconnect nocontent"></div>
                    <div class="col-sm-2 col-sm-offset-3 consentbox vertconnect nocontent"></div>
                </div>

                <div class="row">
                    <div class="col-sm-3 col-sm-offset-3 consentbox vertconnect" data-translation-key="took_photos">You took this many photos</div>
                    <div class="col-sm-3 col-sm-offset-2 consentbox vertconnect" data-translation-key="made_comments">You made this many comments</div>
                </div>

                <div class="row">
                    <div class="col-sm-2 col-sm-offset-3 consentbox vertconnect icon camera"></div>
                    <div class="col-sm-2 col-sm-offset-3 consentbox vertconnect icon audiocomment"></div>
                </div>

                <div class="row">
                    <div class="col-sm-2 col-sm-offset-3 consentbox  solidbg done_photos" id='photos_took'><b>0</b></div>
                    <div class="col-sm-2 col-sm-offset-3 consentbox  solidbg done_audios_text" id='audios_recorded'><b>0</b></div>
                </div>


                <div class="row buttons">
                    <div class="col-sm-12"><a href="#" id="end_session" class="button finish" data-next="step_zero"  data-translation-key="return_home">Return to homescreen</a></div>
                </div>
            </div>
        </div>
    </div>

    <ol id="mediacaptured">
        <li class="noli slideclose">X</li>
        <li class="noli nobor"><h3 data-translation-key="review_photos">Review photos</h3></li>
        <li class="noli nomedia nobor"></li>
    </ol>

    <div class="row bottomnav">
        <div class="col-sm-12">
            <a href="#" class="home"></a>
            <a href="#" class="preview mi_slideout">(<b>0</b>)</a>
        </div>
    </div>

    <div id="loading" class="container panel"></div>
    <div id="notice" class="container">
        <div class="row">
            <div class="col-sm col-md col-lg">
                <h3></h3>
                <p></p>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.ui.widget.js"></script>
<script type="text/javascript" src="js/jquery.fileupload.js"></script>
<script type="text/javascript" src="cordova.js"></script>

<script type="text/javascript" src="js/pouchdb.min.js"></script>
<script type="text/javascript" src="js/pouchdb.cordova-sqlite.js"></script>

<script type="text/javascript" src="js/offline.min.js"></script>
<script thpe="text/javascript" src="js/fastclick.js"></script>

<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyCn-w3xVV38nZZcuRtrjrgy4MUAW35iBOo"></script>
<!-- <script thpe="text/javascript" src="js/hammer.min.js"></script> -->

<script type="text/javascript" src="js/config.js"></script>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/datastore.js"></script>
<script type="text/javascript" src="js/ourvoice.js"></script>
<!--<script type="text/javascript" src="js/consent.js"></script>-->
<!--<script type="text/javascript" src="js/survey.js"></script>-->
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    FastClick.attach(document.body);
    app.initialize();
});
</script>
</body>
</html>
